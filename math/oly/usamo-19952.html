<!DOCTYPE html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="icon" type="image/x-icon" href="/images/favicon.ico" /><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" /><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" /><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" /><link rel="manifest" href="/images/site.webmanifest" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous" /><link rel="stylesheet" href="/assets/css/picnic.css" /><link rel="stylesheet" href="/assets/css/tufte.css" /><link rel="stylesheet" href="/assets/css/custom.css" /><link rel="stylesheet" href="/assets/css/takefive.css" /><script>&quot;Stop crbug.com/332189 and crbug.com/167083&quot;;</script><script defer="true" src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><title>USAMO 1995/2 ‚Äî Lynn Noda</title></head><body><header id="header"><nav id="header-nav" class="picnic"><a class="pseudo button brand-link" href="/"><h2 id="brand-label">Lynn Noda</h2></a><div id="header-menu" class="menu"><a href="/feeds/feed.xml" id="feed" class="align-vertical pseudo button"><img src="https://upload.wikimedia.org/wikipedia/commons/2/20/Cib-rss_%28CoreUI_Icons_v1.0.0%29.svg" width="20px" height="20px" /></a></div></nav></header><section id="body" class="container flex five"><div id="nav-container" class="full fifth-1000"><aside id="side-nav"><label id="hamburger-icon" for="ham-toggle" class="pseudo button">‚ò∞</label><input type="checkbox" id="ham-toggle" /><div class="navstack"><label class="stack"><input name="navoption" type="radio" /><a class="toggle pseudo button" href="/"><span>About</span></a></label><label class="stack"><input name="navoption" type="radio" /><a class="toggle pseudo button" href="/math"><span>Math</span></a></label><label class="stack"><input name="navoption" type="radio" /><a class="toggle pseudo button" href="/math/oly"><span>‚ÄÖ‚ÄÖ‚Ä¢‚ÄÖ‚ÄÖOlympiad Solutions</span></a></label><label class="stack"><input name="navoption" type="radio" /><a class="toggle pseudo button" href="/cs"><span>Computing &amp; Software</span></a></label><label class="stack"><input name="navoption" type="radio" /><a class="toggle pseudo button" href="/cs/software.html"><span>‚ÄÖ‚ÄÖ‚Ä¢‚ÄÖ‚ÄÖSoftware Projects</span></a></label><label class="stack"><input name="navoption" type="radio" /><a class="toggle pseudo button" href="/art"><span>Art &amp; Design</span></a></label><label class="stack"><input name="navoption" type="radio" /><a class="toggle pseudo button" href="/prose"><span>Prose</span></a></label><label class="stack"><input name="navoption" type="radio" /><a class="toggle pseudo button" href="/prose/blog"><span>‚ÄÖ‚ÄÖ‚Ä¢‚ÄÖ‚ÄÖBlog</span></a></label><label class="stack"><input name="navoption" type="radio" /><a class="toggle pseudo button" href="/prose/essay"><span>‚ÄÖ‚ÄÖ‚Ä¢‚ÄÖ‚ÄÖEssays</span></a></label><label class="stack"><input name="navoption" type="radio" /><a class="toggle pseudo button" href="/hobbies"><span>Hobbies</span></a></label><label class="stack"><input name="navoption" type="radio" /><a class="toggle pseudo button" href="/contact.html"><span>Contact</span></a></label></div></aside></div><section id="content-section" class="full four-fifth-1000"><article id="page-content"><h1>USAMO 1995/2</h1><div class="metadata">‚è≤‚ÄÇFebruary 22, 2024‚ÄÖÔΩú‚ÄÖüè∑‚ÄÑTags: <a href="/feeds/tags/math.xml">math</a>, <a href="/feeds/tags/olympiad.xml">olympiad</a>, <a href="/feeds/tags/algebra.xml">algebra</a>, <a href="/feeds/tags/classic.xml">classic</a>, <a href="/feeds/tags/usa.xml">usa</a></div><hr /><article><h2>Broken Calculator with Trig</h2><div class="oly"><p>A calculator is broken so that the only keys that still work are the \( \sin\), \(
\cos\), and \( \tan\) buttons, and their inverses (the \( \arcsin\), \( \arccos\), and
\( \arctan\) buttons). The display initially shows \( 0\). Given any positive
rational number \( q\), show that pressing some finite sequence of buttons will
yield the number \( q\) on the display. Assume that the calculator does real
number calculations with infinite precision. All functions are in terms of
radians.
</p></div><hr /><h2>Solution</h2><div class="oly"><p>Define the set \(\sqrt\mathbb{Q} \coloneqq \{\,q &gt; 0 \mid q^2 \in \mathbb{Q}\, \}
\supset \mathbb{Q}\). Let us then define the functions \(f,g: \sqrt\mathbb{Q}
\to\sqrt\mathbb{Q}\) from the calculator buttons. We have \[f(r)
    \coloneqq \tan\left(\arcsin\left(\cos\left(\arctan r\right)\right)\right) =
    \tan\left(\frac{\pi}{2} - \arctan r\right) = \frac{1} {r},\] and \[g(r)
\coloneqq \cos\left(\arctan r\right) = \frac{1} {\sqrt{1 + r^2}}.\] Obviously
\(f\) is bijective because its inverse is defined as itself. On the other hand,
\(g\) is also bijective as its inverse is defined as \(g^{-1}(r) =
\tan\left(\arccos r\right) = \frac{\sqrt{1-r^2}}{r}\) where \(r\) is in the range
of \(g\).</p><p>Suppose we are given some number \(q\in\sqrt\mathbb{Q}\) to compute. Starting at
\(0\), we can first apply \(\cos\) to get \(1\). We then show that it is possible to
iteratively apply \(f\) and \(g\) a finite number of times to achieve \(q\). Since
\(f\) and \(g\) are bijective, this is equivalent to showing that we can
iteratively apply inverses \(f^{-1}\) and \(g^{-1}\) a finite number of times to
get from \(q\) to \(1\).</p><p>Define a function \(c: \sqrt \mathbb{Q} \to \sqrt \mathbb{Q}\)  as 
\[ c(q) \coloneqq 
\begin{cases}
    f^{-1}(q) = \frac{1}{q} &amp; \text{if } q &gt; 1 \\
    1 &amp; \text{if } q = 1 \\
    g^{-1}(q) = \frac{\sqrt{1-r^2}}{r} &amp; \text{if } 1 &gt; q &gt; 0
\end{cases}. \] We prove that \[
\underbrace{c(c(c(... c}_n(q) ...))) = 1,\] for some positive integer \(n\).</p><p>Letting \(q = \sqrt\frac{a}{b} = \frac{\sqrt a}{\sqrt b}\), for relatively prime
\(a, b \in \mathbb{Z}^{+}\), we get the following cases: If \(a &gt; b\), then \(c(q) =
c\left(\frac{\sqrt a}{\sqrt b}\right) = \frac{\sqrt b} {\sqrt a}\). If \(a=b\),
then \(c(q) = 1\). If \(b &gt; a\), then \[ c(q) = c\left(\frac{\sqrt a}{\sqrt b}
    \right) = \frac{\sqrt{1 - \frac{a}{b}}}{\sqrt\frac{a}{b}} = \frac{\sqrt {b
- a}}{\sqrt a} .\]</p><p>We don't need to consider when \(a = b\), since it clearly satisfies our claim.
Now consider the sum of the squares of the numerator and the denominator when
\(q\) maps to \(c(q)\). For \(q,\) this sum is initially \(a+b\). For \(c(q)\), we either
get \(b+a\) or \(b - a + a = b\). Since \(b + a\), \(b \leq a + b\), notice that every
application of \(c\) monotonically decreases this sum by a positive integer.
It is also impossible to have infinite applications of the first case where
this sum doesn't decrease, so enough applications of \(c\) must bring the sum
down until \(a = b = 1\), at which point we are done.
</p><p style="text-align: right">\(\blacksquare\)</p></div><hr /><h2>Motivation</h2><div class="oly"><p>We want nestings of functions to yield rational values, so there are certain
cases that scream \(\textit{don't go there!}\) Expressions like \(\sin \sqrt k\),
\(\cos \sqrt k\), \(\arcsin \frac{m\pi}{n}\), \(\arccos \frac{m\pi} {n}\), etc.  are
such examples. In particular, we don't want ratios of the sides of a traingle
holding factors of \(\pi\). The angle conditions can be a little more relaxed
because we can define the angle whose slope is some rational \(q\).</p><p>So it's rather clear that there will be two kinds of numbers that appear on the
calculator. Those that represent angles and those that represent side ratios.
To get all the rational numbers, we will most likely focus on extracting it
from side ratios. There is also alternation between angle values and ratio
values. Therefore, it's practically impossible to have a repeat of the same
kind of trig function; it must alternate between \(\sin\), \(\cos\), and \(\tan\) to
one of their inverses.</p><p>We can try listing all possible ways of mapping these functions to see what
happens. Begin with some triangle side ratio \(t\) (not necessarily rational).
\(t\) can map to the following:
\[\begin{align*}
    f_1(t) &amp;= \cos\left(\arctan t\right) = \frac{1}{\sqrt{1 + t^2}} \\
    f_2(t) &amp;= \sin\left(\arctan t\right) = \frac{t}{\sqrt{1 + t^2}} \\
    f_3(t) &amp;= \tan\left(\arcsin t\right) = \frac{t}{\sqrt{1 - t^2}} \\
    f_4(t) &amp;= \tan\left(\arccos t\right) = \frac{\sqrt{1 - t^2}}{t}
\end{align*}\]</p><p>We will now try to get all the rationals. Consider what it means for some
rational number \(m\) to be \(\textit{computable}.\) If it were computable, then
persumably, from the above logic, it will come out of one of \(f_1(t)\), \(f_2(t)\),
\(f_3(t)\), or \(f_4(t)\). So let's just see what happens when we let \[ m = f_1(t)
. \]</p><p>For the relation to hold, we must have
\[\begin{align*}
    &amp;\quad m = \frac{1}{\sqrt{1 + t^2}} \\
    \iff&amp;\quad m^2\left(1 + t^2\right) = 1 \\
    \iff&amp;\quad m^2t^2 = 1 - m^2 \\
    \iff&amp;\quad t^2 = \frac{1 - m^2}{m^2} \\
    \iff&amp;\quad t = \frac{\sqrt{1 - m^2}}{m},
\end{align*}\]
where each equation above is bidirectional since \(m\), \(t &gt; 0\).</p><p>So if \(m\) is computable, then \(t\) must again be computable from one of \(f_1\),
\(f_2\), \(f_3\), or \(f_4\). We can then try the above method again, reach another
value \(t_1\), and send that back into, say \(f_1\), and so on. Once we hit a value
we know for certain is computable, then we know that unwinding all the
operations should give us a valid way to compute \(m\). This can be seen for the
value \(q = \frac{4}{5}\) below:</p><p>\[q = \frac{4}{5} \ {\color{blue} \to} \ \frac{3}{4} \ {\color{blue} \to} \
\frac{\sqrt 7}{3} \ {\color{blue} \to} \ \frac{\sqrt 2}{\sqrt 7} \
{\color{blue} \to} \ \frac{\sqrt 5}{\sqrt 2} \ {\color{red} \to} \
\frac{\sqrt 2}{\sqrt 5} \ {\color{blue} \to} \ \frac{\sqrt 3}{\sqrt 2} \
{\color{red} \to} \ \frac{\sqrt 2}{\sqrt 3} \ {\color{blue} \to} \
\frac{1}{\sqrt 2} \ {\color{blue} \to} \ 1 \ {\to} \ 0\]</p><p>The blue arrows indicate computing \(t\) from \(m\) as above. The red arrows
indicate computing the reciprocal.
</p></div></article></article></section></section><footer id="page-footer"><div id="footer-right"><small xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="/legal.html">This website</a> is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-flex;">CC BY-NC-SA 4.0 International</a>‚ÄÖ‚ÄÖ‚Ä¢‚ÄÖ‚ÄÖ¬© 2023-2024 Lynn Noda</small></div></footer></body>